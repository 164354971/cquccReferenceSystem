{"remainingRequest":"H:\\cquccReferenceFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\cquccReferenceFront\\src\\components\\Login.vue?vue&type=style&index=1&id=ef68022e&scoped=true&lang=css&","dependencies":[{"path":"H:\\cquccReferenceFront\\src\\components\\Login.vue","mtime":1670698798990},{"path":"H:\\cquccReferenceFront\\node_modules\\css-loader\\index.js","mtime":1668948593370},{"path":"H:\\cquccReferenceFront\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1668948614146},{"path":"H:\\cquccReferenceFront\\node_modules\\postcss-loader\\src\\index.js","mtime":1668948616373},{"path":"H:\\cquccReferenceFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668948602564},{"path":"H:\\cquccReferenceFront\\node_modules\\vue-loader\\lib\\index.js","mtime":1668948614133}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#code {\n\tfont-size: 1.2rem;\n\tpadding: 7px 20px;\n\tfont-weight: 700;\n\tbackground-color: #d5d5de;\n\tmargin-left: 8px;\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"body\">\r\n    <div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"tit\">慧监考登录端</div>\r\n\t\t\t<div style=\"color: #ea442b;position: relative;top:-20px\">{{login_msg}}</div>\r\n\t\t\t<input id=\"username\" name=\"username\" type=\"text\" placeholder=\"账号\" v-model.trim=\"user.username\">\r\n\t\t\t<input id=\"password\" name=\"password\" type=\"password\" placeholder=\"密码\" v-model.trim=\"user.password\">\r\n\t\t\t<div>\r\n\t\t\t\t<template>\r\n\t\t\t\t  <el-select v-model=\"user.type\" placeholder=\"请选择\" style=\"width: 92px;margin-right: 8px;\">\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t  v-for=\"item in options\"\r\n\t\t\t\t\t  :key=\"item.value\"\r\n\t\t\t\t\t  :label=\"item.label\"\r\n\t\t\t\t\t  :value=\"item.value\">\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t  </el-select>\r\n\t\t\t\t</template>\r\n\t\t\t\t<input type=\"text\" placeholder=\"验证码\" v-model.trim=\"code\" style=\"width: 90px;\">\r\n\t\t\t\t<code><span id=\"code\" @click=\"codeFlush()\" style=\"\"></span></code>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<button @click=\"login()\" type=\"submit\" style=\"width: 280px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t\tmargin: 35px auto 40px auto;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tbackground: linear-gradient(-200deg, #f8faff, #aac2ee);\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tletter-spacing: 8px;\r\n\t\t\t\tborder-radius: 10px;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\t/*动画过度*/\r\n\t\t\t\ttransition: 0.5s;\">登录</button>\r\n\t\t\t<span>没有账号？<a href=\"#\">去注册</a></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"square\">\r\n\t\t<ul>\r\n\t\t\t<li></li>\r\n\t\t\t<li></li>\r\n\t\t\t<li></li>\r\n\t\t\t<li></li>\r\n\t\t\t<li></li>\r\n\t\t</ul>\r\n\t</div>\r\n\t<div class=\"circle\">\r\n\t\t<ul>\r\n\t\t\t<li></li>\r\n\t\t\t<li></li>\r\n\t\t\t<li></li>\r\n\t\t\t<li></li>\r\n\t\t\t<li></li>\r\n\t\t</ul>\r\n\t</div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n \r\n@import '../css/login.css';\r\n\r\n</style>\r\n\r\n<script>\r\nimport {mapMutations} from \"vuex\";\r\n\r\nexport default {\r\n    name: 'Login',\r\n    data() {\r\n        return {\r\n            login_msg: '  ',\r\n            user:{\r\n                type:3,\r\n                username:'',\r\n                password:''\r\n            },\r\n            code:'',\r\n            options: [{\r\n                  value: 1,\r\n                  label: '管理员'\r\n                }, {\r\n                  value: 2,\r\n                  label: '教师'\r\n                }, {\r\n                  value: 3,\r\n                  label: '学生'\r\n                }],\r\n            codeArr:\"123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ123456789\",\r\n            str: ''\r\n\r\n        }\r\n    },\r\n    mounted() {\r\n        this.codeFlush();\r\n        //alert(this.user.username);\r\n    },\r\n    methods: {\r\n        ...mapMutations(['changeLogin']),\r\n        codeFlush(){\r\n            this.str = \"\";\r\n            for(let i = 0; i <= 3; i++){\r\n                var num = Math.abs(Math.floor(Math.random() * this.codeArr.length - 0.00001))\r\n                console.log(num)\r\n                this.str += this.codeArr[num];\r\n            }\r\n            console.log(this.str)\r\n            document.getElementById(\"code\").innerText = this.str;\r\n        },\r\n        async login() {\r\n            var str = this.str.toLowerCase();\r\n            /*if (str == this.code){*/\r\n            if (true){\r\n                const {data: res} = await this.axios.post('/loginChecks/', this.user);\r\n                console.log(res);//如果获取了结果就在控制台打印\r\n                if(res.flag == true){\r\n                    if(res.data == ''){\r\n                        this.login_msg = res.msg;\r\n                    }else{\r\n                        //存储token\r\n                        localStorage.setItem('user', JSON.stringify(res.data));\r\n                        this.userToken = 'Bearer ' + this.user.username;\r\n                        // 将用户token保存到vuex中\r\n                        this.changeLogin({ user: JSON.stringify(res.data) });\r\n\r\n                        //跳转到后台主页\r\n                        console.log(res.data);\r\n                        /* this.$router.push({\r\n                            path: '/student',\r\n                            query: {\r\n                                user: res.data\r\n                            },\r\n                        }); */\r\n                        this.$router.push({\r\n                            name: 'Student',\r\n                            path: '/student',\r\n                            params: {\r\n                                user: JSON.stringify(res.data)\r\n                            }\r\n                            /*query: {\r\n                                key: 'key',\r\n                                msgKey: this.msg\r\n                            }*/\r\n                        })\r\n                    }\r\n                }\r\n            }else{\r\n                this.login_msg = \"验证码输入错误!请重新输入\";\r\n                this.codeFlush();\r\n            }\r\n\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\t#code {\r\n\t\tfont-size: 1.2rem;\r\n\t\tpadding: 7px 20px;\r\n\t\tfont-weight: 700;\r\n\t\tbackground-color: #d5d5de;\r\n\t\tmargin-left: 8px;\r\n\t}\r\n</style>\r\n"]}]}